decl inp: ubit<32>[32];
decl prime: ubit<32>[1];
decl omegas: ubit<32>[32];
decl ret: ubit<32>[32];  // Output array.

let p = prime[0];

---

for (let i: ubit<5> = 0..32) {
  for (let j: ubit<5> = 0..32) {
    let oidx = ((i * j) as ubit<5>);  // (i * j) % 32
    ret[i] := (ret[i] + inp[j] * omegas[oidx]) % p;
  }
}
