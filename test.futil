import "primitives/std.lib";

component main() -> (done: 1) {
  cells {
    add = prim std_add(32);
    r = prim std_reg(32);

    count = prim std_reg(32);
    count_add = prim std_add(32);
  }

  wires {
    add.right = 32'd1;
    add.left = r.out;
    r.in = count.out < 32'd2 ? add.out;
    r.in = count.out > 32'd5 ? 32'd32;
    r.in = 32'd25;
    r.write_en = 1'd1;

    count_add.right = 32'd1;
    count_add.left = count.out;
    count.in = count_add.out;
    count.write_en = 1'd1;
    done = r.out > 32'd10 ? 1'd1;
  }

  control {}
}
