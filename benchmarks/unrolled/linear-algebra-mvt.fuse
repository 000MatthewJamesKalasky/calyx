decl x1: ubit<32>[8 bank 2];
decl x2: ubit<32>[8 bank 2];
decl y1: ubit<32>[8 bank 2];
decl y2: ubit<32>[8 bank 2];
decl A: ubit<32>[8 bank 2][8 bank 2];

for (let i: ubit<4> = 0..8) unroll 2 {
  for (let j: ubit<4> = 0..8) unroll 2 {
    let tmp = A[i][j] * y1[j];
  } combine {
    x1[i] += tmp;
  }
}

---

for (let i: ubit<4> = 0..8) unroll 2 {
  for (let j: ubit<4> = 0..8) unroll 2 {
    let tmp2 = A[j][i] * y2[j];
  } combine {
    x2[i] += tmp2;
  }
}
